!function(e){function t(t){for(var a,o,s=t[0],u=t[1],c=t[2],l=0,p=[];l<s.length;l++)o=s[l],r[o]&&p.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(h&&h(t);p.length;)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={13:0,11:0},r={13:0,11:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{3:1,5:1,10:1}[e]&&t.push(o[e]=new Promise(function(t,n){for(var a="static/css/"+({1:"lang/lang-en",2:"echarts",3:"themeChange",4:"i18n",5:"example",6:"components",7:"home",8:"login",9:"error",10:"index"}[e]||e)+"."+{1:"31d6cfe",2:"31d6cfe",3:"7869ca0",4:"31d6cfe",5:"f752bf7",6:"31d6cfe",7:"31d6cfe",8:"31d6cfe",9:"31d6cfe",10:"918fbe2"}[e]+".css",o=s.p+a,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var u=(l=r[i]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return t()}var c=document.getElementsByTagName("style");for(i=0;i<c.length;i++){var l;if((u=(l=c[i]).getAttribute("data-href"))===a||u===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.request=a,n(r)},h.href=o,document.getElementsByTagName("head")[0].appendChild(h)}).then(function(){o[e]=0}));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=r[e]=[t,a]});t.push(n[2]=a);var i=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=function(e){return s.p+"static/js/"+({1:"lang/lang-en",2:"echarts",3:"themeChange",4:"i18n",5:"example",6:"components",7:"home",8:"login",9:"error",10:"index"}[e]||e)+"."+{1:"3fa82ad",2:"f74697c",3:"f1ee46c",4:"5adf865",5:"a51fb72",6:"df8a233",7:"c5942c4",8:"3c34f97",9:"700b051",10:"f321750"}[e]+".js"}(e);var c=setTimeout(function(){l({type:"timeout",target:u})},12e4);function l(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");i.type=a,i.request=o,n[1](i)}r[e]=void 0}}u.onerror=u.onload=l,i.appendChild(u)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="./",s.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var h=c;i.push(["Vtdi",0]),n()}({JwIJ:function(e,t,n){},RJ3X:function(e,t,n){"use strict";function a(e,t){for(var n=[],a=0;a<e.length;a++){var o=e[a],r=o.substring(o.lastIndexOf("/")+1);new RegExp("^"+t+"(\\-\\w+)*(\\.\\w+)*\\.css$").test(r)&&n.push(o)}return n}t.a=function(e){for(var t=document.getElementsByTagName("HEAD").item(0),n=t.querySelectorAll("link[rel='stylesheet']"),o=[],r=[],i=0;i<n.length;i++)o.push(n[i].getAttribute("href"));if(r=a(o,e.split("-")[0]),window.themeURL){r.forEach(function(e){if(window.themeURL.indexOf(e)>=0){var t=document.querySelectorAll('link[href="'+e+'"]')[0];t.parentNode.removeChild(t)}});var s=document.createElement("link"),u=a(window.themeURL,e);if(u.length>1||u.length<0)return void console.error("主题文件的文件名格式错误，出现多个或没有样式文件！");s.href=u[0],s.rel="stylesheet",s.type="text/css",t.appendChild(s)}}},Vtdi:function(e,t,n){"use strict";n.r(t);n("JwIJ");var a=n("luuv"),o=n.n(a);[].concat([{path:"/user/navlist",data:[{path:"/home",name:"首页"},{name:"系统组件",child:[{name:"介绍",path:"/components"},{name:"功能类",child:[{path:"/components/permission",name:"详细鉴权"},{path:"/components/pageTable",name:"表格分页"}]},{name:"布局类",child:[{path:"/components/pageTitle",name:"页面标题"},{path:"/components/pageSection",name:"子区域"},{path:"/components/pageSearch",name:"搜索条"},{path:"/components/pageToolbar",name:"工具条"}]},{name:"辅助类",child:[{path:"/components/pageNotes",name:"引用说明"}]}]},{name:"完整示例",child:[{path:"/example/table",name:"列表页面",permission:["edit"]},{path:"/example/charts",name:"图表页面"},{path:"/example/map",name:"地图页面"}]},{path:"/i18n",name:"国际化"},{path:"/theme",name:"主题切换"}]}],[{path:"/login",data:{login:"@boolean",captcha:"@image('100x40', '#FFFFFF', '@word')",message:"这里是登录提交后错误提示信息@increment",uid:"@id",name:"@cname",token:"@guid"}}],[{path:"/charts",data:function(){for(var e=[],t=0;t<7;t++)e.push(parseInt(100*Math.random())+1);return e}}],{path:"/tableData",data:{head:[{key:"name",name:"姓名"},{key:"sex",name:"性别"},{key:"age",name:"年龄"},{key:"address",name:"地址"},{key:"email",name:"邮件"},{key:"remark",name:"备注"}],body:[{name:"@cname","sex|1":["男","女"],age:"@natural(18, 60)",address:"@city(true) ",email:"@email()",remark:"@cparagraph(1)",operation:"edit,delete"},{name:"@cname","sex|1":["男","女"],age:"@natural(18, 60)",address:"@city(true)",email:"@email()",remark:"@cparagraph(1)",operation:"edit,delete"}]}},{path:"/groupList",data:{key:"accountInfo",name:"账号信息",leaf:0,child:[{key:"userInfo",name:"用户信息",leaf:0,child:[{key:"userBasic",name:"基本信息",leaf:0,child:[{key:"userName",name:"用户名",leaf:1},{key:"loginName",name:"登录名",leaf:1},{key:"name",name:"姓名",leaf:1}]}]},{key:"adminInfo",name:"管理员信息",leaf:0,child:[{key:"userBasic",name:"基本信息",leaf:0,child:[{key:"userName",name:"用户名",leaf:1},{key:"loginName",name:"登录名",leaf:1},{key:"name",name:"姓名",leaf:1},{key:"sex",name:"性别",leaf:1}]}]}]}},[{path:"/getToken",data:{token:"@guid"}}]).forEach(function(e){o.a.mock(e.path,e.data)});o.a,n("201c");var r=n("oCYn"),i=n("XJYT"),s=n.n(i),u=n("jE9Z"),c=n("Mj6V"),l=n.n(c),h=(n("pdi6"),n("p46w")),p=n.n(h),m={tokenTimeoutMethod:"getNewToken",loginKey:"isLogin",hasToken:function(){return p.a.get("token")},isLogin:function(){return p.a.get(this.loginKey)},setToken:function(e){var t=new Date((new Date).getTime()+3e4);p.a.set("token",e,{expires:t})},setLoginStatus:function(){console.log("登录状态最长时间更新");var e=new Date((new Date).getTime()+18e5);p.a.set(this.loginKey,"true",{expires:e})},removeToken:function(){p.a.remove("token")},removeLoginStatus:function(){p.a.remove(this.loginKey)}},f=n("L2JU"),d={namespaced:!0,state:{name:""},mutations:{setName:function(e,t){t?p.a.set("userName",encodeURIComponent(t),{expires:365}):p.a.remove("userName"),e.name=t}}},g=n("vDqi"),v=n.n(g),y=!1,b=v.a.CancelToken,k=[];var w=v.a.create({timeout:5e3});w.interceptors.request.use(function(e){var t=void 0;return e.cancelToken=new b(function(e){t=e}),function e(t,n){m.hasToken()?n():("getNewToken"==m.tokenTimeoutMethod&&(y?setTimeout(function(){e(t,n)},500):(y=!0,_.dispatch("auth/getNewToken").then(function(){console.log("已获取新token"),n(),y=!1}))),"jumpAuthPage"==m.tokenTimeoutMethod&&m.isLogin()&&"/auth"!=I.currentRoute.path&&(t(),I.push("/auth")))}(t,function(){m.setLoginStatus(),e.headers.Authorization=""+_.state.user.token}),function(e,t){for(var n=0;n<k.length;n++)if(k[n]==e)return void t();k.push(e)}(e.url,t),e},function(e){return Promise.reject(e)}),w.interceptors.response.use(function(e){for(var t=function(t){if(k[t]==e.config.url)return setTimeout(function(){k.splice(t,1)},500),"break"},n=0;n<k.length;n++){if("break"===t(n))break}return Promise.resolve(e.data)},function(e){if(v.a.isCancel(e))return console.log(e),Promise.reject("Ajax Abort: 该请求在axios拦截器中被中断");if(e.response){switch(e.response.status){case 401:I.push("error/401");case 403:I.push("error/403");default:Object(i.Message)({message:"服务器错误！错误代码："+e.response.status,type:"error"})}return Promise.reject(e.response.data)}});var N=w,P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T={namespaced:!0,state:{token:"",navList:[]},mutations:{setNavList:function(e,t){e.navList=t},setToken:function(e,t){t?(m.setToken(t),m.setLoginStatus()):(m.removeToken(),m.removeLoginStatus()),e.token=t}},actions:{loginByEmail:function(e,t){var n=e.commit;return new Promise(function(e){N({url:"/login",method:"post",data:P({},t)}).then(function(t){t.login&&(n("setToken",t.token),n("user/setName",t.name,{root:!0})),e(t)})})},logout:function(e){var t=e.commit;return new Promise(function(e){t("setToken",""),t("user/setName","",{root:!0}),t("tagNav/removeTagNav","",{root:!0}),e()})},relogin:function(e){var t=e.dispatch,n=e.commit,a=e.state;return new Promise(function(e){var o=p.a.get("token"),r=p.a.get("userName");o?n("setToken",o):t("getNewToken").then(function(){n("setToken",a.token)}),n("user/setName",decodeURIComponent(r),{root:!0}),e()})},getNewToken:function(e){var t=e.commit,n=e.state;return new Promise(function(e){N({url:"/getToken",method:"get",param:{token:n.token}}).then(function(n){t("setToken",n.token),e()})})},getNavList:function(e){var t=e.commit;return new Promise(function(e){N({url:"/user/navlist",methods:"post",data:{}}).then(function(n){t("setNavList",n),e(n)})})},getPermissionList:function(e){var t=e.state;return new Promise(function(e){var n=[];!function e(t){var a=!0,o=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var u=i.value;u.child&&u.child.length?e(u.child):n.push(u)}}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}}(t.navList),e(n)})}}},x=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){o=!0,r=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L={user:d,auth:T,tagNav:{namespaced:!0,state:{cachePage:!1,openedPageList:[],cachedPageName:[]},mutations:{addTagNav:function(e,t){e.openedPageList.some(function(e){return e.path===t.path})||(e.cachedPageName.includes(t.name)?console.error(t.name+" 组件出现命名重复，请检查组件中的name字段。当前组件所在的路由地址为："+t.path):(e.openedPageList.push(t),e.cachePage&&e.cachedPageName.push(t.name)))},removeTagNav:function(e,t){if(t){var n=!0,a=!1,o=void 0;try{for(var r,i=e.openedPageList.entries()[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var s=r.value,u=x(s,2),c=u[0];u[1].path===t.path&&e.openedPageList.splice(c,1)}}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}if(e.cachePage){var l=e.cachedPageName.indexOf(t.name);l>=0&&e.cachedPageName.splice(l,1)}}else e.openedPageList=[],e.cachedPageName=[]}}}},C={setLang:function(e,t){t?p.a.set("lang",t):p.a.remove("lang"),e.lang=t},addLangPack:function(e,t){t&&e.langPack.push(t)},setLayout:function(e,t){t&&(e.navbarPosition=t)},setThemeColor:function(e,t){e.theme=t}},S=n("qSUR"),j=n("mSNy");r.default.use(S.a);var O=new S.a({locale:"zhCN",fallbackLocale:"zhCN",messages:j.default}),E={loadLang:function(e,t){var a=e.dispatch,o=e.commit;return e.state.langPack.includes(t)?(O.locale=t,o("setLang",t),Promise.resolve(t)):n("WJJf")("./"+t).then(function(e){return O.setLocaleMessage(t,e.default),O.locale=t,o("addLangPack",t),o("setLang",t),Promise.resolve(t)}).catch(function(){a("loadLang",O.fallbackLocale).then(function(e){return console.warn("未找到对应语言包，已加载默认语言："+e),e})})}};r.default.use(f.a);var _=new f.a.Store({state:{lang:"",langPack:["zhCN"],navbarPosition:"left",theme:""},mutations:C,actions:E,modules:L}),A=function(){return n.e(10).then(n.bind(null,"ME0q"))},$=[{path:"/",redirect:"/login"},{path:"/error",component:function(){return n.e(9).then(n.bind(null,"ILy7"))},children:[{path:"401",component:function(){return n.e(9).then(n.bind(null,"Y8uL"))}},{path:"403",component:function(){return n.e(9).then(n.bind(null,"8W7C"))}},{path:"404",component:function(){return n.e(9).then(n.bind(null,"dr8t"))}},{path:"500",component:function(){return n.e(9).then(n.bind(null,"F19L"))}}]},{path:"/login",component:function(){return n.e(8).then(n.bind(null,"VZbN"))}},{path:"/home",component:A,children:[{path:"",component:function(){return n.e(7).then(n.bind(null,"/ceN"))}}]},{path:"/components",component:A,children:[{path:"",component:function(){return n.e(6).then(n.bind(null,"rlaO"))}},{path:"pageNotes",component:function(){return n.e(6).then(n.bind(null,"CjoP"))}},{path:"permission",component:function(){return n.e(6).then(n.bind(null,"ibEv"))}},{path:"pageTable",component:function(){return n.e(6).then(n.bind(null,"9zpm"))}},{path:"pageSearch",component:function(){return n.e(6).then(n.bind(null,"X889"))}},{path:"pageSection",component:function(){return n.e(6).then(n.bind(null,"cUUL"))}},{path:"pageTitle",component:function(){return n.e(6).then(n.bind(null,"IWx5"))}},{path:"pageToolbar",component:function(){return n.e(6).then(n.bind(null,"rgNm"))}}]},{path:"/example",component:A,children:[{path:"table",component:function(){return Promise.all([n.e(2),n.e(0),n.e(5)]).then(n.bind(null,"MX08"))}},{path:"charts",component:function(){return Promise.all([n.e(2),n.e(0),n.e(5)]).then(n.bind(null,"Au/W"))}},{path:"map",component:function(){return Promise.all([n.e(2),n.e(0),n.e(5)]).then(n.bind(null,"8NrF"))}}]},{path:"/i18n",component:A,children:[{path:"",component:function(){return n.e(4).then(n.bind(null,"norX"))}}]},{path:"/theme",component:A,children:[{path:"",component:function(){return n.e(3).then(n.bind(null,"sHII"))}}]},{path:"*",redirect:"/error/404"}],z=["/login","/register","/notice","/maintenance"],J=[];l.a.configure({showSpinner:!1}),r.default.use(u.a);var M=new u.a({mode:"hash",routes:$});M.beforeEach(function(e,t,n){var a;l.a.start(),m.isLogin()?"/login"===e.path?n({path:"/home",replace:!0}):e.path.indexOf("/error")>=0?n():(a=M,new Promise(function(e){0==J.length?(console.log("没有权限数据，正在获取"),_.dispatch("auth/getNavList").then(function(){_.dispatch("auth/getPermissionList").then(function(t){console.log("权限列表生成完毕"),J=t,t.forEach(function(e){var t=a.match(e.path);t&&(t.meta.permission=e.permission?e.permission:[],t.meta.name=e.name)}),e()})})):(console.log("已有权限数据"),e())})).then(function(){var t=!1;console.log("进入权限判断"),J.forEach(function(n){n.path==e.fullPath&&(t=!0)}),t?n():n({path:"/error/401",replace:!0})}):z.indexOf(e.path)>=0?(console.log("该页面无需登录即可访问"),n()):(console.warn("当前未处于登录状态，请登录"),n({path:"/login",replace:!0}),_.state.user.token&&Object(i.Message)({message:"登录超时，请重新登录"}),l.a.done())}),M.afterEach(function(){l.a.done()});var I=M,R=n("RJ3X"),F={beforeMount:function(){p.a.get("isLogin")&&(console.log("重新登录"),this.$store.dispatch("auth/relogin"));var e=p.a.get("lang")||this.$i18n.locale;this.$store.dispatch("loadLang",e)},mounted:function(){var e=this;this.$nextTick(function(){Object(R.a)("theme-default"),e.$store.commit("setThemeColor","theme-default")})}},U=n("KHd+"),q=Object(U.a)(F,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sys-app",attrs:{id:"app"}},[t("router-view")],1)},[],!1,null,null,null).exports,X={name:"AppNotes"},B=Object(U.a)(X,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"sys-notes"},[this._t("default")],2)},[],!1,null,null,null).exports,D={name:"AppTitle",props:["title"]},W=Object(U.a)(D,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sys-title"},[t("strong",[this._v(this._s(this.title))])])},[],!1,null,null,null).exports,K={name:"AppToolbar",props:{align:{type:String,default:function(){return"right"}}}},V=Object(U.a)(K,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"sys-toolbar",class:this.align},[this._t("default")],2)},[],!1,null,null,null).exports,H={name:"AppSection",props:["title"]},Y=Object(U.a)(H,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sys-section"},[t("div",{staticClass:"title"},[t("strong",[this._v(this._s(this.title))])]),this._v(" "),this._t("default")],2)},[],!1,null,null,null).exports,Z={name:"AppSearch"},Q=Object(U.a)(Z,function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"sys-search"},[this._t("default")],2)},[],!1,null,null,null).exports,G={name:"TableMixin",props:{pagination:Boolean,paginationAlign:String,pageSize:{type:Number,default:function(){return 10}},paginationTotal:{type:Number,default:function(){return 10}},sizeChange:{type:Function,default:function(){return null}},pageChange:{type:Function,default:function(){return null}},pageLayout:{default:function(){return"total, sizes, prev, pager, next, jumper"}}},computed:{align:function(){var e=void 0;switch(this.paginationAlign){case"right":e="textR";break;case"center":e="textC";break;default:e=""}return e}}};[B,W,V,Y,Q,Object(U.a)(G,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sys-table"},[e._t("default"),e._v(" "),n("div",{staticClass:"sys-table-pagination"},[e.pagination?[n("el-pagination",{class:e.align,attrs:{layout:e.pageLayout,total:e.paginationTotal,"page-size":e.pageSize},on:{"size-change":e.sizeChange,"current-change":e.pageChange}})]:[e._t("pagination")]],2)],2)},[],!1,null,null,null).exports].map(function(e){r.default.component(e.name,e)});r.default;var ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};[{install:function(e){e.directive("hasPermission",{bind:function(e,t,n){var a=n.context.$route.meta.permission;a?"object"==(void 0===a?"undefined":ee(a))&&a.length?a.includes(t.value)||e.parentNode.removeChild(e):console.error("权限判断不生效。因路由中permission字段非数组类型或内容为空，请检查路由表设置。当前路由地址："+n.context.$route.path):console.error("权限判断不生效。因路由中不包含permission字段，请检查路由表设置。当前路由地址："+n.context.$route.path)}})}}].map(function(e){r.default.use(e)});r.default;r.default.prototype.$axios=N,r.default.use(s.a,{i18n:function(e,t){return O.t(e,t)}}),new r.default({i18n:O,axios:N,router:I,store:_,render:function(e){return e(q)}}).$mount("#app")},WJJf:function(e,t,n){var a={"./":["mSNy"],"./en":["P6u4",0,1],"./en.js":["P6u4",0,1],"./index":["mSNy"],"./index.js":["mSNy"],"./zhCN":["X2nu"],"./zhCN.js":["X2nu"]};function o(e){var t=a[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.resolve().then(function(){var t=new Error('Cannot find module "'+e+'".');throw t.code="MODULE_NOT_FOUND",t})}o.keys=function(){return Object.keys(a)},o.id="WJJf",e.exports=o},X2nu:function(e,t,n){"use strict";n.r(t);var a=n("8NkQ"),o=n.n(a),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=r({global:{username:"用户名",password:"密码",login:"登录",captcha:"验证码",forgetPassword:"忘记密码？",loginTip:"当前登录结果随机。验证码随便填",editpassword:"修改密码",logout:"退出登录",errMsg:{inputRequired:"请输入{cont}",selectRequired:"请选择{cont}"}}},o.a)},mSNy:function(e,t,n){"use strict";n.r(t);var a=n("X2nu");t.default={zhCN:a.default,zhTW:{},en:{}}}});